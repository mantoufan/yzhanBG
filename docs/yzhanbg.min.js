!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.YZhanBG=n():e.YZhanBG=n()}(this,(function(){return function(){var e={67:function(e){e.exports=function(){"use strict";var e={d:function(n,t){for(var i in t)e.o(t,i)&&!e.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:t[i]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}},n={};e.d(n,{default:function(){return a}});var t={container:{style:"\n      position: fixed;\n      top: 0;\n      width: 100%;\n      height: 0;\n      display: flex;\n      justify-content: space-evenly;\n      pointer-events: none;\n    "},fall:{styles:["animation-delay: .1s;\n       animation-duration: 4s","animation-delay: .5s;\n       animation-duration: 5s","animation-delay: .3s;\n       animation-duration: 3s;\n       animation-name: {keyframes2}","animation-delay: .2s;\n       animation-duration: 3.5s;\n       animation-name: {keyframes1}","animation-delay: .9s;\n       animation-duration: 3s;\n       animation-name: {keyframes1};\n       animation-duration: 4.5s","animation-delay: .7s;\n       animation-duration: 5.5s;\n       animation-name: {keyframes1}","animation-delay: .4s;\n       animation-duration: 3s","animation-delay: .6s;\n       animation-duration: 4s;\n       animation-name: {keyframes1}","animation-delay: .5s;\n       animation-duration: 5.5s;\n       animation-name: {keyframes2};","animation-delay: .3s;","animation-delay: .7s;\n       animation-duration: 3.5s","animation-delay: .5s;\n       animation-duration: 4s","animation-delay: .15s;\n       animation-duration: 6.5s;\n       animation-name: {keyframes2};","animation-delay: .5s;\n       animation-duration: 6.5s;\n       animation-name: {keyframes3};","animation-delay: .55s;\n       animation-duration: 5.5s;\n       animation-name: {keyframes3};","animation-delay: .75s;\n       animation-duration: 7.5s;\n       animation-name: {keyframes3};"],keyframes:["from {\n        opacity: .9;\n      }\n      to {\n        transform: translate(10vw, 100vh) rotateX(45deg);\n        opacity: .2;\n      }","from {\n        opacity: .9;\n      }\n      to {\n        transform: translate(-10vw, 100vh) rotateY(45deg);\n        opacity: .2;\n      }","from {\n        opacity: .9;\n      }\n      to {\n        transform: translate(5vw, 100vh) rotateX(-45deg);\n        opacity: .2;\n      }","from {\n        opacity: .9;\n      }\n      to {\n        transform: translate(-5vw, 100vh) rotateX(-45deg);\n        opacity: .2;\n      }"]},spread:{keyframes:["from {\n        transform: translateY(50vh) rotateZ(55deg) skew(5deg, 5deg);\n        opacity: .1;\n      }\n      to {\n        transform: translate(10vw, -100%) rotateZ(45deg);\n        opacity: .9;\n      }","from {\n        transform: translateY(50vh) rotateZ(-55deg) skew(5deg, 5deg);\n        opacity: .1;\n      }\n      to {\n        transform: translate(-10vw, -100%) rotateZ(-45deg);\n        opacity: .9;\n      }","from {\n        transform: translateY(50vh) rotateZ(155deg) skew(-5deg, 5deg);\n        opacity: .1;\n      }\n      to {\n        transform: translate(10vw, 105vh) rotateZ(145deg);\n        opacity: .9;\n      }","from {\n        transform: translateY(50vh) rotateZ(195deg) skew(-5deg, 5deg);\n        opacity: .1;\n      }\n      to {\n        transform: translate(-10vw, 105vh) rotateZ(185deg);\n        opacity: .9;\n      }"]},snow:{style:"\n      width: .5vw;\n      height: .5vw;\n      border-radius: 50%;\n      background-color: white;\n      border: 1px solid #fefefe;\n      transform: translateY(-100%);\n      animation: {keyframes0} 6s linear infinite;\n    "}},i={sakura:{num:20,containerStyle:t.container.style,style:"\n      width: 1.5vw;\n      height: 1.5vh;\n      border-radius: 50% 0;\n      background-image: linear-gradient(to right, pink, white);\n      transform: translateY(-100%);\n      animation: {keyframes0} 5s linear infinite;\n    ",styles:t.fall.styles,keyframes:t.fall.keyframes},snow:{num:60,containerStyle:t.container.style,style:t.snow.style,styles:t.fall.styles,keyframes:t.fall.keyframes},rain:{num:60,containerStyle:t.container.style,style:"\n      width: .2vw;\n      height: 1vw;\n      border-radius: 30%;\n      background-color: rgba(255, 255, 255, .5);\n      transform: translateY(-100%);\n      animation: {keyframes0} 6s ease-in-out infinite;\n    ",styles:t.fall.styles,keyframes:t.fall.keyframes},firefly:{num:60,containerStyle:t.container.style,style:t.snow.style.replace("white","#fff06b"),styles:t.fall.styles,keyframes:t.spread.keyframes},butterfly:{num:40,containerStyle:t.container.style,html:'\n      <div class="wing"></div>\n      <div class="wing"></div>\n    ',style:{"":"\n        display: inline-block;\n        position: relative;\n        width: 1.25vw;\n        height: 1.25vw;\n        transform: translateY(-100%);\n        animation: {keyframes0} 6s linear infinite;\n      ","::after":"\n        position: absolute;\n        content: ' ';\n        background-color: lightgoldenrodyellow;\n        border-radius: 50%;\n        display: block;\n        left: .5vw;\n        width: .25vw;\n        height: .75vw;\n      ",".wing":"\n        position: absolute;\n        width: .75vw;\n        height: .75vw;\n        animation: wing .3s infinite ease-in-out alternate;\n      ",".wing:last-child":"\n        right: 0;\n      ",".wing:last-child::after":"\n        right: .125vw;\n        left: auto;\n      ",".wing::before":"\n        position: absolute;\n        content: ' ';\n        display: block;\n        width: .6vw;\n        height: .6vw;\n        background-color: lightyellow;\n        border-radius: 50%;\n      ",".wing::after":"\n        position: absolute;\n        content: ' ';\n        display: block;\n        top: .5vw;\n        left: .12vw;\n        width: .5vw;\n        height: .5vw;\n        background-color: lightyellow;\n        border-radius: 50%;\n      "},keyframe:{wing:"\n        from {\n          transform: scale(.9);\n        }\n        to {\n          transform: scale(1.1);\n        }"},styles:t.fall.styles,keyframes:t.spread.keyframes}};var a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapper=document.createElement("DIV"),document.body.appendChild(this.wrapper),this.styleSheet=this.wrapper.appendChild(document.createElement("STYLE")).sheet,this.container=this.wrapper.appendChild(document.createElement("DIV"))}var n;return n=[{key:"uuid",value:function(){return"xxxxxxxxxx".replace(/x/g,(function(e){return(16*Math.random()|0).toString(16)}))}},{key:"createRules",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},i=[],a=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c="yz"+this.uuid();i.push(c),this.styleSheet.insertRule("".concat(n(c)," { ").concat(t(u)," }"),0)}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return i}},{key:"createRule",value:function(e,n){for(var t in e)this.styleSheet.insertRule("".concat(n(t)," { ").concat(e[t]," }"),0)}},{key:"createKeyfarme",value:function(e){this.createRule(e,(function(e){return"@keyframes "+e}))}},{key:"createKeyfarmes",value:function(e){return this.createRules(e,(function(e){return"@keyframes "+e}))}},{key:"createStyles",value:function(e,n,t){return this.createRules(e,n,(function(e){return e.replace(/\{keyframes(\d+)\}/g,(function(e,n){return t[n]}))}))}},{key:"processStyles",value:function(e,n){for(var t=e.length,i=0;i<t;i++){var a=e[i].match(RegExp("animation-duration:(?<duration>.*)"));null!==a&&n(parseFloat(a.groups.duration),a.groups.duration,i)}}},{key:"replaceStyles",value:function(e,n){var t=0;this.processStyles(e,(function(e){return t<e&&(t=e)})),this.processStyles(e,(function(i,a,r){var o=i/t*n.maxDuration,s=a.replace(i,o);e[r]=e[r].replace(a,s)}))}},{key:"load",value:function(e,n){var t=this,a=i[e],r=a.num,o=a.html,s=a.containerStyle,l=a.style,u=a.styles,c=a.keyframe,h=void 0===c?{}:c,d=a.keyframes;this.createKeyfarme(h);var m=this.createKeyfarmes(d);"string"==typeof l&&(l={"":l}),this.createStyles([l[""]],(function(e){return"."+(t.container.className=e)+" div"}),m),this.createStyles([s],(function(e){return"."+t.container.className}),m),this.createRule(l,(function(e){return"."+t.container.className+" div"+(":"===e[0]?"":" ")+e})),this.replaceStyles(u,n);for(var f=this.createStyles(u,(function(e){return" ."+t.container.className+" ."+e}),m),y=document.createDocumentFragment(),p=0;p<r;p++){var v=document.createElement("DIV");o&&(v.innerHTML=o),y.appendChild(v).className=f[p%f.length]}this.container.appendChild(y)}},{key:"run",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxDuration:10};this.clear(),this.load(e,n)}},{key:"clear",value:function(){for(this.container.innerHTML="";this.styleSheet.cssRules.length;)this.styleSheet.deleteRule(0)}},{key:"destory",value:function(){this.wrapper.remove(),this.wrapper=this.styleSheet=this.container=null}}],n&&function(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,n),e}();return n.default}()}},n={};function t(i){var a=n[i];if(void 0!==a)return a.exports;var r=n[i]={exports:{}};return e[i].call(r.exports,r,r.exports,t),r.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};var i={};return function(){"use strict";t.d(i,{default:function(){return o}});var e=t(67),n=t.n(e);function a(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=null,o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),r&&r.destory(),this.wrapper=document.createElement("DIV"),document.body.appendChild(this.wrapper),this.prefix="yzhanbg",this.initClass(),this.list=[],this.cur=0,this.video=this.initVideo(),this.wrapper.appendChild(this.video),this.img=this.initImg(),this.wrapper.appendChild(this.img),this.control=this.initControl(),this.wrapper.appendChild(this.control),this.weather=new(n()),r=this}var t,i;return t=e,(i=[{key:"initClass",value:function(){for(var e=this.wrapper.appendChild(document.createElement("STYLE")).sheet,n=["video, ."+this.prefix+"-img {position: fixed; visibility: hidden; top: 0; left: 0; z-index: -1; width: 100%; height: 100%; object-fit: cover}","cur {visibility: visible !important}","control {position: absolute; top: 0; right: 0; font-size: 12px; z-index: 1; background-color: rgba(255, 255, 255, .5); border-radius: 0 0 0 5px}","control span {margin-left: 3px; vertical-align: top; cursor: pointer}","icon {display: inline-block; width: 15px; height: 15px; opacity: .75; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAPCAYAAAC4EqxxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVRIieXWP4gVVxQG8N8YXSW4/mOJhXEbQbEwRUCRWFhsIagoslEQIwppRIgICWghIglRG0FstEvEpBGEiEZQsLARRRCTDYigIBGb9WESTRFRfCnOmd3nY2b3LSur4oFhZu453z33u985c6doNpveJ5s83gmKoug0dBr+K1/e1EZPmsBc32Dt65qsKApFUSwtimJRPo96kQrXqLQGL3CxLukIKrViP8SX+AmHcB2PKvLOx3osxRw8xg2cxYOanE+wF4exAJsS+1cVlmqFu7AbO7C4jlGNtWNn4uNcxApcwucVuH4cwyq8xM28r8rx/pp8d3BEkH6I+/gtfZXYsoe70jlF9NqMtonXoRs/o0eU5/d4Ogp2Ab7CAaHCHnyHEyil2t6yqAu4hiX4BcuxOmO68WPburbhExwVG30Ys/Ecy6qwpcJTMA8fVZCFq1gplDuI20l2NOxNDKavgakZPzP9fS1kG0n2W2zM+7Ucl3F9LXP3iWpZiA1Jdi+eYXMdttOPVkOUzhrRNyc7xBE91IO/xYY8xfT0bW2J+1Mo22pLcry0rTXPHwhlj2GXqMTposRfie+UcA++xq+56G0d4oiPUQOzxGZ149/0nWqJ68VAG3Ygx0s7VfPcK8p4i2HSg4bbZii+7OHnounrevgzXPFqD3cLtUbCfirKeTBxzzL+n/RfFhvSn/7l2C+UHcj3now9k/EqsHNEz5bKluV9VLTP7yW2aDab7cdDF3aKmr+coErrAPsD5oqeupv+aTjehu3HF0KAhijj3iT7QhxpZ8qcGAl7Xyh7VnzIjuCPofVWLLq01Zns0hgIV2HLc/icOId34VEFdkzn8AjY2Yk9jXuGz+k7Q4THY2P4tdyHWzjfuvAJyLtItNmNiSb8VvxLj5vwu2b/A3QZ1pa7ROuXAAAAAElFTkSuQmCC)}","icon-mute {background-position-x: 0}","icon-unmute {background-position-x: -15px}","icon-show {background-position-x: -30px}","icon-hide {background-position-x: -45px}"],t=n.length,i=0;i<t;i++)e.insertRule("."+this.prefix+"-"+n[i],0)}},{key:"initVideo",value:function(){var e=this,n=document.createElement("VIDEO");return n.addEventListener("ended",(function(){return e.next()})),n.muted=!0,n.autoplay=!0,n.className=this.prefix+"-video",n}},{key:"initImg",value:function(){var e=document.createElement("IMG");return e.className=this.prefix+"-img",e}},{key:"initControl",value:function(){for(var e=this,n=function(n){var a=document.createElement("SPAN");if(i.appendChild(a),2===n)return i.text=a,"break";a.className=e.prefix+"-icon "+e.prefix+"-icon-"+(0===n?"mute":"show"),0===n?(i.mute=a).onclick=function(){return a.className.indexOf("unmute")>-1?t.mute():t.unmute()}:(i.show=a).onclick=function(){return a.className.indexOf("hide")>-1?t.show():t.hide()}},t=this,i=document.createElement("DIV"),a=0;a<3&&"break"!==n(a);a++);return i.className=this.prefix+"-control",i}},{key:"run",value:function(e){this.list=e,this.cur=0,this.play()}},{key:"isImage",value:function(e){return/jpg|jpeg|png|gif|webp|avif|bmp$/i.test(e)}},{key:"play",value:function(){var e=this,n=this.current(),t=n.url,i=n.weather,a=i.type,r=i.maxDuration,o=n.text,s=n.duration,l=this.isImage(t)?"img":"video",u=this.prefix+"-cur";this[l].src=t,this.img.classList.remove(u),this.video.classList.remove(u),this[l].classList.add(u),this.control.text.innerHTML=o,this.weather.run(a,{maxDuration:r}),void 0!==s&&setTimeout((function(){return e.next()}),1e3*s)}},{key:"next",value:function(){this.pause(),++this.cur===this.list.length&&(this.cur=0),this.play()}},{key:"pause",value:function(){this.video.pause(),this.weather.clear()}},{key:"resume",value:function(){this.video.play();var e=this.current().weather,n=e.type,t=e.maxDuration;this.weather.run(n,{maxDuration:t})}},{key:"mute",value:function(){this.video.muted=!0,this.processClassName("mute","-unmute","-mute")}},{key:"unmute",value:function(){this.video.muted=!1,this.processClassName("mute","-mute","-unmute")}},{key:"processChildren",value:function(e){for(var n=document.body.children,t=n.length,i=0;i<t;i++)n[i]===this.wrapper||["SCRIPT","STYLE","LINK","META"].indexOf(n[i].tagName)>-1||e(n[i])}},{key:"processClassName",value:function(e,n,t){this.control[e].className=this.control[e].className.replace(n,t)}},{key:"show",value:function(){this.processChildren((function(e){return e.style.visibility="visible"})),this.processClassName("show","-hide","-show")}},{key:"hide",value:function(){this.processChildren((function(e){return e.style.visibility="hidden"})),this.processClassName("show","-show","-hide")}},{key:"current",value:function(){return this.list[this.cur]}},{key:"remove",value:function(e){e.parentNode.removeChild(e)}},{key:"destory",value:function(){this.list.length=this.cur=0,this.weather.destory(),this.remove(this.wrapper),this.remove(this.control),this.video=this.weather=this.control=null}}])&&a(t.prototype,i),e}()}(),i.default}()}));